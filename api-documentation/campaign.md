# Campaign

## Properties description

<table><thead><tr><th width="194">Property</th><th width="107.33333333333331">Type</th><th>Description</th></tr></thead><tbody><tr><td>id</td><td>Integer</td><td>Campaign unique identification.</td></tr><tr><td>name</td><td>String</td><td>Campaign name defined par user during creation</td></tr><tr><td>state</td><td>Enum</td><td>Current state of the campaign, it can take this values : <br>- waiting<br>- running<br>- paused<br>- completed<br>- archived</td></tr><tr><td>account_id</td><td>Integer</td><td>Id of the account associated to the campaign</td></tr><tr><td>owner_account_id</td><td>Integer</td><td>Id of the owner account or parent account generally used for agency customer campaigns.</td></tr><tr><td>product_id</td><td>Integer</td><td>Id of the main product of the campaign (SmartCover, SmartRead, SmartPulse or Display).</td></tr><tr><td>start_at</td><td>Datetime</td><td>Start of the campaign, GMT timezone</td></tr><tr><td>stop_at</td><td>Datetime</td><td>Stop of the campaign, GMT timezone </td></tr><tr><td>budget</td><td>Integer</td><td>Maximum amount of impressions to deliver during the campaign </td></tr><tr><td>sell_price</td><td>Decimal</td><td>Sell price to the final customer, for information only, not required.</td></tr><tr><td>buy_price</td><td>Decimal</td><td>Maximium CPM price used for bidding.</td></tr><tr><td>impressions</td><td>Integer</td><td>Amount of ad impressions (eg to ad calls).</td></tr><tr><td>visible_impressions</td><td>Integer</td><td>Amount of ad displayed more than 1 second on the user screen.</td></tr><tr><td>clicks</td><td>Integer</td><td>Amount of clicks generated by the campaign</td></tr><tr><td>exposure_time</td><td>Integer</td><td>Amount of seconds when the ad is displayed (at minimum 50% of his content) on user screen.</td></tr><tr><td>created_at</td><td>Datetime</td><td>Creation date of the campaign, GMT timezone</td></tr><tr><td>updated_at</td><td>Datetime</td><td>Last update of the campaign, GMT timezone</td></tr><tr><td>deleted_at</td><td>Datetime</td><td>Field used for softdeleting the campaign. This property is null for active campaign.</td></tr></tbody></table>

## Search campaigns

## Search campaigns

<mark style="color:blue;">`GET`</mark> `https://api.smartxsp.io/campaigns`

Allows you to retrieve the list of campaigns according to the scope of the connected user as well as the input parameters. :warning: Please note that the list is limited to the last 1000 campaigns.

#### Query Parameters

| Name | Type   | Description |
| ---- | ------ | ----------- |
|      | String |             |

#### Headers

| Name                                            | Type   | Description                                    |
| ----------------------------------------------- | ------ | ---------------------------------------------- |
| Authorization<mark style="color:red;">\*</mark> | String | The Bearer token you get during login process. |

{% tabs %}
{% tab title="200: OK List of campaigns" %}
{% code overflow="wrap" lineNumbers="true" %}
```json
{
    "success":true,
    "data":{
        "user":{
            "id":1,
            "name":"John Doe",
            "email":"johndoe@smartxsp.io",
            "account_id":1,
            "account":{
                "id":1,
                "name":"Account Name",
                "account_type":"agency"
            }
        },
        "campaigns":[
            {
                "id":1,
                "name":"First campaign"
            },
            {
                "id":2,
                "name":"Second campaign"
            }
        ]
    },
    "message":"Campaigns retrieved successfully."
}
```
{% endcode %}
{% endtab %}
{% endtabs %}

## Get campaign

## Get campaign details

<mark style="color:blue;">`GET`</mark> `https://api.smartxsp.io/campaigns/{campaign_id}`

Retrieves campaign details.

#### Path Parameters

| Name                                           | Type   | Description                    |
| ---------------------------------------------- | ------ | ------------------------------ |
| campaign\_id<mark style="color:red;">\*</mark> | String | The numeric id of the campaign |

#### Headers

| Name                                            | Type   | Description                                    |
| ----------------------------------------------- | ------ | ---------------------------------------------- |
| Authorization<mark style="color:red;">\*</mark> | String | The Bearer token you get during login process. |

{% tabs %}
{% tab title="200: OK Detail of a campaign" %}
{% code overflow="wrap" lineNumbers="true" %}
```json
{
    "success":true,
    "data":{
        "id":1,
        "name":"My first campagn",
        "state":"running",
        "account_id":2216,
        "owner_account_id":21,
        "product_id":1,
        "start_at":"2023-04-25T22:00:00.000000Z",
        "stop_at":"2023-05-12T21:59:00.000000Z",
        "budget":24000,
        "sell_price":"20.00000",
        "buy_price":"12.00000",
        "impressions":11397,
        "visible_impressions":7938,
        "clicks":57,
        "exposure_time":140122,
        "created_at":"2023-04-26T15:24:05.000000Z",
        "updated_at":"2023-05-02T12:37:06.000000Z",
        "deleted_at":null
    },
    "message":"Campaign retrieved successfully."
}
```
{% endcode %}
{% endtab %}
{% endtabs %}

## Create campaign

## Create a new campaign

<mark style="color:green;">`POST`</mark> `https://api.smartxsp.io/campaigns/`

Retrieves campaign details.

#### Query Parameters

| Name                                          | Type     | Description                                                                                     |
| --------------------------------------------- | -------- | ----------------------------------------------------------------------------------------------- |
| account\_id                                   | Integer  | The account associated to the campaign. If not provided it will be the user account.            |
| name<mark style="color:red;">\*</mark>        | String   | The campaign name                                                                               |
| start\_at<mark style="color:red;">\*</mark>   | Datetime | The start of the campaign, on GMT timezone using the format "Y-m-d H:i:s" (2023-01-31 12:15:00) |
| stop\_at<mark style="color:red;">\*</mark>    | Datetime | The end of the campaign, on GMT timezone using the same format that start\_at                   |
| budget<mark style="color:red;">\*</mark>      | Integer  | Amount of impressions to serve                                                                  |
| buy\_price<mark style="color:red;">\*</mark>  | Decimal  | Maximum CPM price to buy on programmatic network                                                |
| sell\_price                                   | Decimal  | Your sell CPM value                                                                             |
| product\_id<mark style="color:red;">\*</mark> | Integer  | Id of the main product                                                                          |
| site\_countries                               | Array    | List of country id. Target sites that deal with a country.                                      |
| geo\_countries                                | Array    | List of country id. Target user localized in a country.                                         |
| geo\_lists                                    | Array    | List of geoList id. Target user on a postal code level                                          |
| packages                                      | Array    | List of package id. Target sites on a packaged sites list                                       |
| sites                                         | Array    | List of site id. Target specific website by their id.                                           |
| segments                                      | Array    | List of data segment id. Target user or content based on data segments.                         |
| contexts                                      | Array    | List of contextual segment id. Target content based on contextuel content.                      |

#### Headers

| Name                                            | Type   | Description                                    |
| ----------------------------------------------- | ------ | ---------------------------------------------- |
| Authorization<mark style="color:red;">\*</mark> | String | The Bearer token you get during login process. |

{% tabs %}
{% tab title="200: OK Detail of a campaign" %}
{% code overflow="wrap" lineNumbers="true" %}
```json
{
    "success":true,
    "data":{
        "id":1,
        "name":"My first campagn",
        "state":"running",
        "account_id":2216,
        "owner_account_id":21,
        "product_id":1,
        "start_at":"2023-04-25T22:00:00.000000Z",
        "stop_at":"2023-05-12T21:59:00.000000Z",
        "budget":24000,
        "sell_price":"20.00000",
        "buy_price":"12.00000",
        "impressions":11397,
        "visible_impressions":7938,
        "clicks":57,
        "exposure_time":140122,
        "created_at":"2023-04-26T15:24:05.000000Z",
        "updated_at":"2023-05-02T12:37:06.000000Z",
        "deleted_at":null
    },
    "message":"Campaign retrieved successfully."
}
```
{% endcode %}
{% endtab %}
{% endtabs %}

