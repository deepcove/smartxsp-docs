# Campaign

## Properties description

<table><thead><tr><th width="194">Property</th><th width="107.33333333333331">Type</th><th>Description</th></tr></thead><tbody><tr><td>id</td><td>Integer</td><td>Campaign unique identification.</td></tr><tr><td>name</td><td>String</td><td>Campaign name defined par user during creation</td></tr><tr><td>state</td><td>Enum</td><td>Current state of the campaign, it can take this values : <br>- waiting<br>- running<br>- paused<br>- completed<br>- archived</td></tr><tr><td>account_id</td><td>Integer</td><td>Id of the account associated to the campaign</td></tr><tr><td>owner_account_id</td><td>Integer</td><td>Id of the owner account or parent account generally used for agency customer campaigns.</td></tr><tr><td>product_id</td><td>Integer</td><td>Id of the main product of the campaign (SmartCover, SmartRead, SmartPulse or Display).</td></tr><tr><td>start_at</td><td>Datetime</td><td>Start of the campaign, GMT timezone</td></tr><tr><td>stop_at</td><td>Datetime</td><td>Stop of the campaign, GMT timezone </td></tr><tr><td>budget</td><td>Integer</td><td>Maximum amount of impressions to deliver during the campaign </td></tr><tr><td>sell_price</td><td>Decimal</td><td>Sell price to the final customer, for information only, not required.</td></tr><tr><td>buy_price</td><td>Decimal</td><td>Maximium CPM price used for bidding.</td></tr><tr><td>impressions</td><td>Integer</td><td>Amount of ad impressions (eg to ad calls).</td></tr><tr><td>visible_impressions</td><td>Integer</td><td>Amount of ad displayed more than 1 second on the user screen.</td></tr><tr><td>clicks</td><td>Integer</td><td>Amount of clicks generated by the campaign</td></tr><tr><td>exposure_time</td><td>Integer</td><td>Amount of seconds when the ad is displayed (at minimum 50% of his content) on user screen.</td></tr><tr><td>created_at</td><td>Datetime</td><td>Creation date of the campaign, GMT timezone</td></tr><tr><td>updated_at</td><td>Datetime</td><td>Last update of the campaign, GMT timezone</td></tr><tr><td>deleted_at</td><td>Datetime</td><td>Field used for softdeleting the campaign. This property is null for active campaign.</td></tr></tbody></table>

## Search campaigns

{% swagger method="get" path="/campaigns" baseUrl="https://api.smartxsp.io" summary="Search campaigns" expanded="true" %}
{% swagger-description %}
Allows you to retrieve the list of campaigns according to the scope of the connected user as well as the input parameters. :warning: Please note that the list is limited to the last 1000 campaigns.
{% endswagger-description %}

{% swagger-parameter in="header" name="Authorization" required="true" %}
The Bearer token you get during login process.
{% endswagger-parameter %}

{% swagger-parameter in="query" %}

{% endswagger-parameter %}

{% swagger-response status="200: OK" description="List of campaigns" %}
{% code overflow="wrap" lineNumbers="true" %}
```json
{
    "success":true,
    "data":{
        "user":{
            "id":1,
            "name":"John Doe",
            "email":"johndoe@smartxsp.io",
            "account_id":1,
            "account":{
                "id":1,
                "name":"Account Name",
                "account_type":"agency"
            }
        },
        "campaigns":[
            {
                "id":1,
                "name":"First campaign"
            },
            {
                "id":2,
                "name":"Second campaign"
            }
        ]
    },
    "message":"Campaigns retrieved successfully."
}
```
{% endcode %}
{% endswagger-response %}
{% endswagger %}

## Get campaign

{% swagger method="get" path="/campaigns/{campaign_id}" baseUrl="https://api.smartxsp.io" summary="Get campaign details" expanded="true" %}
{% swagger-description %}
Retrieves campaign details.
{% endswagger-description %}

{% swagger-parameter in="header" name="Authorization" required="true" %}
The Bearer token you get during login process.
{% endswagger-parameter %}

{% swagger-parameter in="path" name="campaign_id" required="true" %}
The numeric id of the campaign
{% endswagger-parameter %}

{% swagger-response status="200: OK" description="Detail of a campaign" %}
{% code overflow="wrap" lineNumbers="true" %}
```json
{
    "success":true,
    "data":{
        "id":1,
        "name":"My first campagn",
        "state":"running",
        "account_id":2216,
        "owner_account_id":21,
        "product_id":1,
        "start_at":"2023-04-25T22:00:00.000000Z",
        "stop_at":"2023-05-12T21:59:00.000000Z",
        "budget":24000,
        "sell_price":"20.00000",
        "buy_price":"12.00000",
        "impressions":11397,
        "visible_impressions":7938,
        "clicks":57,
        "exposure_time":140122,
        "created_at":"2023-04-26T15:24:05.000000Z",
        "updated_at":"2023-05-02T12:37:06.000000Z",
        "deleted_at":null
    },
    "message":"Campaign retrieved successfully."
}
```
{% endcode %}
{% endswagger-response %}
{% endswagger %}

## Create campaign

{% swagger method="post" path="/campaigns/" baseUrl="https://api.smartxsp.io" summary="Create a new campaign" expanded="true" %}
{% swagger-description %}
Retrieves campaign details.
{% endswagger-description %}

{% swagger-parameter in="header" name="Authorization" required="true" %}
The Bearer token you get during login process.
{% endswagger-parameter %}

{% swagger-parameter in="query" name="account_id" type="Integer" %}
The account associated to the campaign. If not provided it will be the user account.
{% endswagger-parameter %}

{% swagger-parameter in="query" name="name" required="true" %}
The campaign name
{% endswagger-parameter %}

{% swagger-parameter in="query" name="product_id" type="Integer" required="true" %}
Id of the main product
{% endswagger-parameter %}

{% swagger-parameter in="query" name="start_at" type="Datetime" required="true" %}
The start of the campaign, on GMT timezone using the format "Y-m-d H:i:s" (2023-01-31 12:15:00)
{% endswagger-parameter %}

{% swagger-parameter in="query" name="stop_at" type="Datetime" required="true" %}
The end of the campaign, on GMT timezone using the same format that start\_at
{% endswagger-parameter %}

{% swagger-parameter in="query" name="budget" type="Integer" required="true" %}
Amount of impressions to serve
{% endswagger-parameter %}

{% swagger-parameter in="query" name="buy_price" type="Decimal" required="true" %}
Maximum CPM price to buy on programmatic network
{% endswagger-parameter %}

{% swagger-parameter in="query" name="sell_price" type="Decimal" %}
Your sell CPM value
{% endswagger-parameter %}

{% swagger-parameter in="query" name="site_countries" type="Array" %}
List of country id. Target sites that deal with a country.&#x20;
{% endswagger-parameter %}

{% swagger-parameter in="query" name="geo_countries" type="Array" %}
List of country id. Target user localized in a country.&#x20;
{% endswagger-parameter %}

{% swagger-parameter in="query" name="geo_lists" type="Array" %}
List of geoList id. Target user on a postal code level
{% endswagger-parameter %}

{% swagger-parameter in="query" name="packages" type="Array" %}
List of package id. Target sites on a packaged sites list
{% endswagger-parameter %}

{% swagger-parameter in="query" name="sites" type="Array" %}
List of site id. Target specific website by their id.
{% endswagger-parameter %}

{% swagger-parameter in="query" name="segments" type="Array" %}
List of data segment id. Target user or content based on data segments.
{% endswagger-parameter %}

{% swagger-parameter in="query" name="contexts" type="Array" %}
List of contextual segment id. Target content based on contextuel content.
{% endswagger-parameter %}

{% swagger-response status="200: OK" description="Detail of a campaign" %}
{% code overflow="wrap" lineNumbers="true" %}
```json
{
    "success":true,
    "data":{
        "id":1,
        "name":"My first campagn",
        "state":"running",
        "account_id":2216,
        "owner_account_id":21,
        "product_id":1,
        "start_at":"2023-04-25T22:00:00.000000Z",
        "stop_at":"2023-05-12T21:59:00.000000Z",
        "budget":24000,
        "sell_price":"20.00000",
        "buy_price":"12.00000",
        "impressions":11397,
        "visible_impressions":7938,
        "clicks":57,
        "exposure_time":140122,
        "created_at":"2023-04-26T15:24:05.000000Z",
        "updated_at":"2023-05-02T12:37:06.000000Z",
        "deleted_at":null
    },
    "message":"Campaign retrieved successfully."
}
```
{% endcode %}
{% endswagger-response %}
{% endswagger %}

